<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: sketch.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: sketch.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*******************************************************************************
*   @file sketch.js
*   @brief Langtons ant an example of cellular automata
*   
*   @author &lt;a href='mailto:omareq08@gmail.com'> Omar Essilfie-Quaye &lt;/a>
*   @version 1.0
*   @date 09-Jan-2018
*
*******************************************************************************/

let grid = [];
let scale = 5;
let antx, anty, bearing;
let antState;
let up = 0, right = 1, down = 2, left = 3;

/**
  turn left changing the ants bearing
*/
function turnLeft() {
  bearing--;
  if(bearing &lt; up) {
    bearing = left;
  } 
}

/**
  turn right changing the ants bearing
*/
function turnRight() {
  bearing ++;
  if(bearing > left) {
    bearing = up;
  }
}

/**
  change the ants position depending on which direction it is facing
*/
function moveForward() {
  if(bearing == up) {
    anty--;
    if(anty == -1) {
      anty = grid[0].length - 1;
    }
  } else if(bearing == right) {
    antx++;
    if(antx == grid.length) {
      antx = 0;
    }
  } else if(bearing == down) {
    anty++;
    if(anty == grid[0].length) {
      anty = 0;
    }
  } else {
    antx--;
    if(antx == -1) {
      antx = grid.length - 1;
    }
  }
}

/**
  p5.js setup function
*/
function setup() {
  let canvas = createCanvas(floor(0.8*displayWidth), floor(0.8*displayHeight));
  canvas.parent('sketch');

  background(255);
  noStroke();

  //  setup grid with all the values as 1
  for(let i = 0; i &lt;floor(width/scale); i ++) {
    grid[i] = [];
    for(let j = 0; j &lt; floor(height/scale); j++) {
      grid[i][j] = 1;
    }
  }


  //  put the ant in the middle of the grid facing up
  antx = floor(grid.length / 2);
  anty = floor(grid[0].length / 2);
  antState = false;
  bearing = up;
}

/**
  p5.js draw function
*/
function draw() {

  //  antState == false and grid at antpos == 1
  if(!antState &amp;&amp; grid[antx][anty] == 1) {
    turnRight();
    grid[antx][anty] = !grid[antx][anty];
    fill(255);
  } 

  //  antState == true and grid at antpos == 0
  else if(antState &amp;&amp; grid[antx][anty] == 0){
    turnLeft();
    grid[antx][anty] = !grid[antx][anty];
    fill(0);
  } 

  //  all other scenarios do not turn and go forward
  else {
    //  grid at antpos is now equal to not antstate
    grid[antx][anty] = !antState;
    fill(0);
  }

  //  antState always inverts
  antState = !antState;

  //  draw over the new grid value at the ants old location
  rect(antx * scale, anty * scale, scale, scale);
  moveForward();


  //  draw ant and change colour depending on it's state
  if(antState){
    fill(255, 0, 0);
  } else {
    fill(0, 255, 0);
  }
  rect(antx * scale, anty * scale, scale, scale);
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#draw">draw</a></li><li><a href="global.html#moveForward">moveForward</a></li><li><a href="global.html#setup">setup</a></li><li><a href="global.html#turnLeft">turnLeft</a></li><li><a href="global.html#turnRight">turnRight</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Fri Aug 17 2018 10:08:31 GMT+0100 (GMT Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
